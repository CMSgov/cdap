name: tf-test-yq-install
run-name: tf-test-yq-install

on:
  push:
    paths:
      - .github/workflows/tf-test-yq-install.yml

env:
  TENV_GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

permissions:
  contents: write

jobs:
  check-yq:
    runs-on: codebuild-cdap-${{github.run_id}}-${{github.run_attempt}}
    strategy:
      fail-fast: false
      matrix:
        app: [cdap]
        env: [mgmt]
    steps:
      - name: Setup yq
        uses: cmsgov/cdap/actions/setup-yq@328406d6e1d435b4e3da598bcdab22e576c3945e
      - name: Call yq
        run: |
          yq --version