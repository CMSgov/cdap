name: tf-test-yq-install
run-name: tf-test-yq-install

on:
  push:
    paths:
      - .github/workflows/tf-test-yq-install.yml

env:
  TENV_GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

permissions:
  contents: write

jobs:
  check-yq:
    runs-on: codebuild-cdap-${{github.run_id}}-${{github.run_attempt}}
    strategy:
      fail-fast: false
      matrix:
        app: [cdap]
        env: [mgmt]
    steps:
      - name: Setup yq
        uses: cmsgov/cdap/actions/setup-yq@7a729f2bce2a1e9c1a62e50f304992deab499b58
      - name: Call yq
        run: |
          yq --version